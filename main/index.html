<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>intro</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&display=swap');
    /* font-family:'Noto Sans KR', sans-serif */
    /* font-family:'Nanum Myeongjo', serif */
    *{margin:0; padding:0; box-sizing:border-box; color:#333; font-size:16px; line-height:1.6em; font-weight:normal; letter-spacing:normal; font-family:'Nanum Myeongjo', serif}
    a{text-decoration:none}
    h1{pointer-events:none} /* 눈 클릭되지 않게 */
    body{width:100%; height:100vh; overflow:hidden; background-color:#333}
    .app{width:1920px; height:1080px; transform-origin:left top; padding:50px}
    .wrap{position:relative; width:100%; height:100%; border-radius:40px; box-shadow:0 0 30px #000; overflow:hidden}
    /* noon */
    .noon{position:absolute; top:0; left:-100%; width:100%; height:100%; background-color:#999; border-radius:40px; transition-duration:5s}
    .noon img{display:block; position:absolute; bottom:0; right:-500px; width:500px}
    .text{position:absolute; top:50px; left:0; width:100%; text-align:center}
    .text p:nth-child(1){font-size:150px; font-weight:800}
    .text p:nth-child(2){font-size:100px; font-weight:700}
    .text p:nth-child(3){font-size:60px; font-weight:400}
    .text p{transition-duration:1s}
    .text p.on{text-shadow:#fdcbce 1px 0 10px; color:#FFF}
    .btn{display:table; position:absolute; bottom:30px; left:50%; transform:translateX(-50%); width:auto; padding:7px 70px; text-align:center; border-radius:100px; background-color:#666; color:#FFF; font-size:60px; font-weight:700; letter-spacing:10px; transition-duration:0.5s}
    .btn:hover{background-color:#fdcbce; color:#333}
</style>
<script>
    // 16 : 9 비율 만들기
    function autoSize(){
        const app = document.querySelector('.app')
        const horz = window.innerWidth / 1920
        const vert = window.innerHeight / 1080
        if(horz > vert){
            app.style.transform = `translateX(${(window.innerWidth - 1920 * vert) / 2}px) scale(${vert})`
        }else{
            app.style.transform = `translateY(${(window.innerHeight - 1080 * horz) / 2}px) scale(${horz})`
        }
    }
    // 눈 효과
    function next(limit){
        return Math.round(Math.random() * limit)
    }
    var obj = '.............*************'
    function randomObj(){
        return obj.charAt(next(25))
    }
    function randomSpeed(maxSpeed){
        return Math.random() * maxSpeed - Math.random() * maxSpeed
    }
    var canvasWidth = screen.availWidth
    var canvasHeight = screen.availHeight
    function MovingText(){
        this.x = next(canvasWidth)
        this.y = next(canvasHeight)
        this.vx = randomSpeed(5)
        this.vy = randomSpeed(5)
        this.body = document.createElement('h1')
        this.body.innerHTML = randomObj()
        this.body.style.position = 'absolute'
        document.body.appendChild(this.body)
    }
    MovingText.prototype.move = function(){
        if(this.x<0 || this.x>canvasWidth){this.vx *= -1}
        if(this.y<0 || this.y>canvasHeight){this.vy *= -1}
        this.x += this.vx
        this.y += this.vy
        this.body.style.left = this.x + 'px'
        this.body.style.top = this.y + 'px'
    }
    window.onload = function(){
        autoSize()
        var movingTexts = []
        for(var i=0; i<100; i++){
            movingTexts.push(new MovingText())
        }
        setInterval(function(){
            for(var i in movingTexts){
                movingTexts[i].move()
            }
        },1000/60)
        var h1 = document.getElementsByTagName('h1')
        var color = ['#777', '#888', '#999', '#aaa', '#bbb', '#ccc', '#ddd', '#eee', '#fff']
        for(var i=0; i<100; i++){
            h1[i].style.fontSize = Math.round(Math.random() * 100) + 'px'
            h1[i].style.color = color[Math.round(Math.random() * 8)]
        }
    }
    window.onresize = function(){
        autoSize()
    }
</script>
</head>
<body>
    <div class="app">
        <div class="wrap">
            <div class="noon">
                <img src="img/person.png" alt="막는 사람 이미지">
            </div>
            <div class="text">
                <p>Welcome</p>
                <p>I am 02NewChi</p>
                <p>from 2019.12</p>
            </div>
            <a href="#" class="btn">Next</a>
        </div>
    </div>
    <script>
        // 눈 채워짐
        let noon = document.querySelector('.noon')
        setTimeout(function(){
            noon.style.left = '0'
        }, 1000)
        // text 반짝임
        let textP = document.querySelectorAll('.text p')
        setTimeout(function(){
            function textOn(){
                for(let i=0; i<textP.length; i++){
                    textP[i].classList.add('on')
                }
            }
            function textOff(){
                for(let i=0; i<textP.length; i++){
                    textP[i].classList.remove('on')
                }
            }
            setInterval(function(){
                textOn()
            }, 2000)
            setTimeout(function(){
                setInterval(function(){
                    textOff()
                }, 2000)
            }, 1000)
        }, 5000)
        // 눈 색 핑크로 바꾸기
        setTimeout(function(){
            let h1s = document.querySelectorAll('h1')
            for(let i=0; i<h1s.length; i++){
                h1s[i].style.color = '#fdcbce'
            }
        }, 7000)
    </script>
</body>
</html>